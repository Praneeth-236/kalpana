<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hospital Results - CareMatch AI</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
    <div class="container">
        <h1>Ranked Hospitals</h1>
        <p class="subtitle">For {{ user['name'] }} (Condition: {{ user['condition'] }}, Budget: ₹{{ user['budget_preference'] }})</p>

        <div class="actions">
            <a class="btn" href="{{ url_for('search') }}">New Search</a>
            <a class="btn" href="{{ url_for('medicines') }}">Medicine Tracker</a>
            <a class="btn" href="{{ url_for('dashboard') }}">Dashboard</a>
        </div>

        {% for hospital in ranked_hospitals %}
        <div class="card">
            <h2>#{{ loop.index }} {{ hospital['hospital_name'] }}</h2>
            <p><strong>Location:</strong> {{ hospital['location'] }}</p>
            <p><strong>Specialization:</strong> {{ hospital['specialization'] }}</p>
            <p><strong>Rating:</strong> {{ hospital['rating'] }} / 5</p>
            <p><strong>Avg Cost:</strong> ₹{{ hospital['avg_cost'] }}</p>
            <p><strong>Composite Score:</strong> {{ (hospital['score'] * 100) | round(2) }}%</p>
            <pre class="explanation">{{ hospital['explanation'] }}</pre>
            <a class="btn" href="{{ url_for('doctors', hospital_id=hospital['hospital_id']) }}">View Doctors</a>
        </div>
        {% endfor %}
    </div>
</body>
</html>
